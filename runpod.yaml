name: pokemon-scanner-serverless
description: Scanner de cartes Pokémon avec OCR et IA
docker:
  dockerfile: Dockerfile
  build_context: .
serverless:
  handler: handler.py
  runtime: python3.10
  memory: 4096  # 4GB RAM
  gpu:
    type: "NVIDIA RTX A4000"  # ou RTX 4090, A6000, etc.
    count: 1
  environment:
    RUNPOD_AI_API_KEY: ${{ secrets.RUNPOD_AI_API_KEY }}
  scaling:
    min_workers: 0    # Auto-scaling: 0 quand pas d'utilisation
    max_workers: 3    # Maximum 3 instances simultanées
    idle_timeout: 60  # Arrêt après 60s d'inactivité